"use strict";var draggableMenuContainer=$(".draggable.menu-item").closest(".draggableContainer"),_id_menu_oldPosition=0,draggableMenuContainer_arr=[];draggableMenuContainer.sortable({handle:".card-title",cancel:".add-item",placeholder:"ui-state-highlight",forcePlaceholderSize:!0,start:function(e,a){_id_menu_oldPosition=$(a.item).index()+1,draggableMenuContainer_arr=draggableMenuContainer.sortable("toArray")},update:function(e,a){for(var n,i=$(a.item).attr("id"),t=$(a.item).index()+1,r=draggableMenuContainer.sortable("toArray"),d=0;d<draggableMenuContainer_arr.length;d++){if(draggableMenuContainer_arr[d]==i){n=r[d];break}}$.ajax({type:"PUT",url:"/updatemenuitemposition",data:{_id:i,_id_newPosition:t,_id_menu_oldPosition:_id_menu_oldPosition,_menuSwapped:n},success:function(){menuPositionUpdate("Menu item")}})}});var draggableSubmenuContainer=$(".draggable.submenu-item").closest(".draggableContainer"),_id_submenu_oldPosition=0,draggableSubmenuContainer_arr=[];draggableSubmenuContainer.sortable({placeholder:"ui-state-highlight",forcePlaceholderSize:!0,start:function(e,a){_id_submenu_oldPosition=$(a.item).index()+1,draggableSubmenuContainer_arr=$(a.item).closest(".draggableContainer").sortable("toArray")},update:function(e,a){for(var n=$(a.item).attr("id"),i=$(a.item).index()+1,t=draggableSubmenuContainer.sortable("toArray"),r="",d=0;d<draggableSubmenuContainer_arr.length;d++){if(draggableSubmenuContainer_arr[d]==n){r=t[d];break}}$.ajax({type:"PUT",url:"/updatesubmenuitemposition",data:{_id:n,_id_newPosition:i,_id_submenu_oldPosition:_id_submenu_oldPosition,_submenuSwapped:r},success:function(){menuPositionUpdate("Submenu item")}})}}),$(".menu-item-url-select").change(function(){var e=$(this),a=e.find("option:selected").data("route"),n=e.find("option:selected").data("title"),i=e.siblings(".addmenuitem").find(".addmenuitem-text"),t=e.siblings(".addmenuitem").find(".addmenuitem-url"),r=e.siblings(".addmenuitem").find(".addmenuitem-ref"),d=e.siblings(".addmenuitem").find(".addmenuitem-or");i.val(n),t.val(a),d.val(a),r.val("true")});